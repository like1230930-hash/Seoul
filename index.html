<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Seoul 2025 Ski Trip</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@500&family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0F172A;
            --accent: #3B82F6;
            --highlight: #F97316;
            --bg: #F8FAFC;
            --naver: #03C75A;
            --exit: #F59E0B;
        }

        body { 
            font-family: 'Noto Sans TC', 'Inter', sans-serif; 
            background-color: var(--bg); 
            padding-bottom: 110px;
            color: #1E293B;
            -webkit-tap-highlight-color: transparent;
        }

        .font-mono { font-family: 'JetBrains Mono', monospace; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* å¡ç‰‡ç‰¹æ•ˆ */
        .app-card {
            background: #FFFFFF;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.03);
            border: 1px solid #F1F5F9;
            overflow: hidden;
            transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            margin-bottom: 16px;
        }
        .app-card:active { transform: scale(0.98); }

        /* äº¤é€šè½‰ä¹˜å¡ */
        .transit-card {
            background: #F8FAFC;
            border: 1px solid #E2E8F0;
            border-left: 4px solid #3B82F6;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            position: relative;
        }
        .transit-line {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 10px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #E2E8F0;
        }
        .transit-line:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }
        .line-badge {
            font-size: 0.65rem;
            font-weight: 800;
            color: white;
            padding: 3px 6px;
            border-radius: 4px;
            margin-right: 8px;
            flex-shrink: 0;
            min-width: 45px;
            text-align: center;
        }
        .line-1 { background-color: #0052A4; }
        .line-2 { background-color: #00A84D; }
        .line-3 { background-color: #EF7C1C; }
        .line-4 { background-color: #00A5DE; }
        .line-5 { background-color: #996CAC; }
        .line-6 { background-color: #CD7C2F; }
        .line-9 { background-color: #BDB092; }
        .line-arex { background-color: #0090D2; }
        .line-walk { background-color: #94A3B8; }

        /* å‡ºå£æ¨™ç±¤ */
        .exit-badge {
            background-color: var(--exit);
            color: white;
            font-size: 0.7rem;
            font-weight: 800;
            padding: 2px 8px;
            border-radius: 99px;
            display: inline-flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(245, 158, 11, 0.3);
            margin-left: 6px;
            vertical-align: middle;
        }

        /* æ·±å¤œè£œçµ¦å¡ */
        .snack-card {
            background: linear-gradient(to right, #1E1B4B, #312E81);
            color: #E0E7FF;
            border-radius: 18px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid #4338CA;
            position: relative;
            overflow: hidden;
        }
        .snack-card::after {
            content: '\f2e7';
            font-family: "Font Awesome 6 Free"; 
            font-weight: 900;
            position: absolute;
            right: -10px; bottom: -20px;
            font-size: 80px;
            opacity: 0.1;
            color: white;
            transform: rotate(-15deg);
        }

        /* æ¢ç´¢å¡ç‰‡ */
        .discovery-card {
            background: linear-gradient(135deg, #0F172A 0%, #334155 100%);
            color: white;
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px -5px rgba(15, 23, 42, 0.3);
        }
        .discovery-card::after {
            content: '';
            position: absolute;
            top: -50px; right: -50px;
            width: 150px; height: 150px;
            background: rgba(255,255,255,0.05);
            border-radius: 50%;
        }
        .discovery-tag {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(4px);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 700;
            margin-bottom: 12px;
            display: inline-block;
        }

        /* ç™»æ©Ÿè­‰ */
        .boarding-pass {
            background: white;
            border-radius: 24px;
            box-shadow: 0 10px 40px -10px rgba(0,0,0,0.08);
            position: relative;
            overflow: hidden;
            margin-bottom: 24px;
            border: 1px solid #E2E8F0;
        }
        .boarding-pass::before, .boarding-pass::after {
            content: '';
            position: absolute;
            top: 68%;
            width: 20px;
            height: 20px;
            background-color: var(--bg);
            border-radius: 50%;
            z-index: 10;
            border: 1px solid #E2E8F0;
        }
        .boarding-pass::before { left: -12px; border-right-color: transparent; border-bottom-color: transparent; transform: rotate(45deg); }
        .boarding-pass::after { right: -12px; border-left-color: transparent; border-top-color: transparent; transform: rotate(45deg); }
        
        .pass-top { padding: 24px 24px 30px 24px; }
        .pass-bottom { 
            background: #F1F5F9; 
            padding: 16px 24px; 
            border-top: 2px dashed #CBD5E1;
            display: flex; justify-content: space-between; align-items: center;
        }

        /* ç¿»è­¯å¡ç‰‡ */
        .trans-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            padding: 10px 4px;
        }
        .trans-card {
            background: white;
            border-radius: 18px;
            padding: 24px 16px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
            border: 1px solid #E2E8F0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            position: relative;
        }
        .trans-card:active { transform: scale(0.96); border-color: var(--accent); background-color: #F8FAFC; }
        .trans-ko { font-size: 1.15rem; font-weight: 900; color: #0F172A; margin-bottom: 6px; line-height: 1.3; }
        .trans-pron { font-size: 0.7rem; font-weight: 800; color: var(--highlight); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 12px; font-family: 'Inter', sans-serif; }
        .trans-zh { font-size: 0.85rem; color: #64748B; font-weight: 600; }

        /* Checkbox & Accordion styles ... */
        .check-item { display: flex; align-items: center; padding: 12px 16px; background: white; border-radius: 12px; margin-bottom: 8px; border: 1px solid #F1F5F9; transition: all 0.2s; justify-content: space-between; }
        .check-item.checked { background: #F8FAFC; opacity: 0.7; }
        .check-item.checked .item-text { text-decoration: line-through; color: #94A3B8; }
        .checkbox-custom { width: 20px; height: 20px; border: 2px solid #CBD5E1; border-radius: 6px; margin-right: 12px; display: flex; align-items: center; justify-content: center; color: white; transition: all 0.2s; flex-shrink: 0; }
        .check-item.checked .checkbox-custom { background: #3B82F6; border-color: #3B82F6; }
        .accordion-content { max-height: 0; opacity: 0; overflow: hidden; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .active-card .accordion-content { max-height: 800px; opacity: 1; padding-top: 16px; margin-top: 16px; border-top: 1px solid #F1F5F9; }
        .chevron { transition: transform 0.3s; }
        .active-card .chevron { transform: rotate(180deg); }
        .nav-pill { color: #94A3B8; transition: all 0.2s; }
        .nav-pill.active { color: #0F172A; }
        .nav-pill.active .icon-box { background-color: #EFF6FF; color: #2563EB; box-shadow: 0 4px 10px rgba(37,99,235,0.15); }
        .icon-box { width: 44px; height: 44px; border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 20px; margin-bottom: 4px; transition: all 0.2s; }
        .tag { font-size: 0.65rem; padding: 3px 8px; border-radius: 6px; font-weight: 700; margin-right: 4px; display: inline-block; }
        .tag-blue { background: #EFF6FF; color: #2563EB; }
        .tag-orange { background: #FFF7ED; color: #EA580C; }
        .tag-red { background: #FEF2F2; color: #DC2626; }
        .tag-slate { background: #F1F5F9; color: #475569; }
    </style>
</head>
<body>

    <div id="header-container" class="sticky top-0 z-50 transition-all duration-300"></div>
    <div id="main-content" class="px-5 py-4 min-h-screen"></div>
    <div class="fixed bottom-6 left-5 right-5 h-[76px] bg-white/95 backdrop-blur-md rounded-3xl shadow-[0_20px_40px_-10px_rgba(0,0,0,0.15)] border border-slate-100 flex justify-around items-center px-2 z-50">
        <button onclick="switchTab('itinerary')" id="nav-itinerary" class="nav-pill active flex flex-col items-center w-1/4"><div class="icon-box"><i class="fas fa-map-location-dot"></i></div><span class="text-[10px] font-bold">è¡Œç¨‹</span></button>
        <button onclick="switchTab('accounting')" id="nav-accounting" class="nav-pill flex flex-col items-center w-1/4"><div class="icon-box"><i class="fas fa-wallet"></i></div><span class="text-[10px] font-bold">è¨˜å¸³</span></button>
        <button onclick="switchTab('translate')" id="nav-translate" class="nav-pill flex flex-col items-center w-1/4"><div class="icon-box"><i class="fas fa-language"></i></div><span class="text-[10px] font-bold">ç¿»è­¯</span></button>
        <button onclick="switchTab('tools')" id="nav-tools" class="nav-pill flex flex-col items-center w-1/4"><div class="icon-box"><i class="fas fa-suitcase"></i></div><span class="text-[10px] font-bold">å·¥å…·</span></button>
    </div>

    <script>
        const tripData = {
            "2025-12-21": {
                title: "DAY 1 / æŠµé”é¦–çˆ¾",
                subtitle: "Airport to Cheongnyangni",
                weather: { t: "4Â°C", i: "fa-cloud-moon", tip: "å¾®å†·ï¼Œå»ºè­°ç©¿è‘—é˜²é¢¨å¤–å¥—" },
                discovery: {
                    title: "æ¸…æ¶¼é‡Œçš„è€æ´¾æµªæ¼«",
                    desc: "æ¸…æ¶¼é‡Œæ˜¯é€šå¾€æ±ŸåŸé“çš„éµè·¯æ¨ç´ï¼Œé€™è£¡æœ‰å¾©å¤çš„å‚³çµ±å¸‚å ´ã€‚æ¨è–¦å»äº¬æ±å¸‚å ´å°‹å¯¶ï¼",
                    spots: [{ name: "æ¸…æ¶¼é‡Œå¥¶å¥¶å†·éºµ", type: "å¿…åƒ", desc: "è‘—åè¶…è¾£å†·éºµï¼Œåœ¨å¸‚å ´å··å¼„å…§ã€‚" }, { name: "äº¬æ±å¸‚å ´æ˜Ÿå·´å…‹1960", type: "æ‰“å¡", desc: "å»¢æ£„è€åŠ‡é™¢æ”¹å»ºçš„è¶…å¾©å¤å’–å•¡å»³ã€‚" }]
                },
                items: [
                    { type: "flight", airline: "Scoot é…·èˆª", code: "TR896", from: "TPE", fromCity: "å°åŒ—æ¡ƒåœ’", fromTime: "18:15", fromTerm: "T1", to: "ICN", toCity: "é¦–çˆ¾ä»å·", toTime: "21:45", toTerm: "T1", bag: "35kg", gate: "--" },
                    { type: "transport", time: "22:40", title: "æ©Ÿå ´å‰å¾€æ¸…æ¶¼é‡Œ", sub: "AREX + åœ°éµ1è™Ÿç·š", tags: ["æœ€å¿«è·¯ç·š"], desc: "å…¥å¢ƒå¾Œè·Ÿéš¨é»ƒè‰²æ–‡å­—ã€ŒAirport Railroadã€æŒ‡æ¨™ç§»å‹•ã€‚", tips: "AREXç›´é”è»Šæœ«ç­ç´„ 22:48ï¼Œè«‹å‹™å¿…æŠŠæ¡æ™‚é–“ã€‚è‹¥è¶•ä¸ä¸Šï¼Œå¯æ”¹æ­ 6002 è™Ÿæ©Ÿå ´å·´å£«ã€‚" },
                    { type: "transit", from: "ä»å·æ©Ÿå ´ T1", to: "æ¸…æ¶¼é‡Œç«™", steps: [{ line: "line-arex", name: "AREX æ©Ÿå ´å¿«ç·š", dir: "å¾€ é¦–çˆ¾ç«™ (çµ‚é»)", desc: "ç›´é”è»Š (0ä¸­é€”ç«™)", time: "43åˆ†é˜" }, { line: "line-1", name: "1è™Ÿç·š", dir: "å¾€ é€é™å±±/æ¸…æ¶¼é‡Œ", desc: "é¦–çˆ¾ç«™è½‰ä¹˜ (æ­ä¹˜6ç«™)", time: "18åˆ†é˜" }] },
                    { type: "hotel", time: "00:10", title: "å…¥ä½ Check-in", sub: "Hotel The Designers", address: "226 Wangsan-ro, Dongdaemun-gu, Seoul", mapQuery: "í˜¸í…”ë”ë””ìì´ë„ˆìŠ¤ì²­ëŸ‰ë¦¬", tags: ["Agoda: 1633690442"], exit: "4è™Ÿå‡ºå£", desc: "ä½æ–¼æ¸…æ¶¼é‡Œç«™ 4 è™Ÿå‡ºå£ï¼Œæ­¥è¡Œç´„ 2 åˆ†é˜å³é”ã€‚", tips: "é£¯åº—æ¨“ä¸‹æœ‰ä¾¿åˆ©å•†åº—ï¼Œå»ºè­°å…ˆè²·å¥½éš”å¤©æ—©é¤èˆ‡æ°´ï¼Œå› ç‚ºæ˜å¤©é›†åˆæ™‚é–“å¾ˆæ—©ã€‚" },
                    { type: "snack", title: "æ·±å¤œè£œçµ¦ & å®µå¤œ", items: [ { name: "GS25 ä¾¿åˆ©å•†åº—", desc: "å°±åœ¨é£¯åº—å¤§æ¨“ 1æ¨“ æˆ–ç·Šé„°çš„å··å­ï¼Œè²·æ°´ã€æ—©é¤é£¯ç³°ã€‚" }, { name: "æ¸…æ¶¼é‡Œç‚¸é›èƒ¡åŒ", desc: "å‚³çµ±å¸‚å ´å…§æœ‰è‘—åçš„ç‚¸é›è¡—ï¼Œç‡Ÿæ¥­è‡³æ·±å¤œï¼Œæ¨è–¦ã€Œå—åŸç‚¸é›ã€ã€‚" }, { name: "å¸ƒå¸³é¦¬è»Š (è·¯é‚Šæ”¤)", desc: "è»Šç«™å‰å»£å ´é€šå¸¸æœ‰é­šæ¿æ¹¯ã€è¾£ç‚’å¹´ç³•æ”¤è²©ã€‚" } ] }
                ]
            },
            "2025-12-22": {
                title: "DAY 2 / å‰å¾€é›ªå ´",
                subtitle: "High 1 Resort",
                weather: { t: "-5Â°C", i: "fa-snowflake", tip: "æ¥µå†·ï¼Œè«‹ç©¿ç™¼ç†±è¡£+é›ªè¡£" },
                discovery: { title: "å¾ç…¤ç¤¦åˆ°é›ªå ´", desc: "High 1 æ‰€åœ¨çš„å¤æ±—é‚‘æ›¾æ˜¯ç¹æ¦®çš„ç…¤ç¤¦æ‘ã€‚é€™è£¡çš„éŸ“ç‰›å’Œé‡èœ(Gondre)éå¸¸æœ‰åã€‚", spots: [{ name: "å¤æ±—å¸‚å ´ (Gohan Market)", type: "ç¾é£Ÿ", desc: "è·é›¢åº¦å‡æ‘è»Šç¨‹ç´„10åˆ†é˜ï¼Œæœ‰ä¾¿å®œçš„çƒ¤è‚‰åº—å’Œå‚³çµ±æ¹¯é£¯ã€‚" }] },
                items: [
                    { type: "transport", time: "07:00", title: "é›†åˆ (åˆ‡å‹¿é²åˆ°)", sub: "æ¸…æ¶¼é‡Œç«™ Olive Young å‰", desc: "è«‹åœ¨ç«è»Šç«™å…§çš„ Olive Young å‰é›†åˆã€‚é ˜éšŠæœƒåœ¨æ­¤é»åã€‚", tags: ["æ—©èµ·æ³¨æ„"], tips: "7:25 ç«è»Šæº–æ™‚ç™¼è»Šï¼Œé€¾æ™‚ä¸å€™ã€‚" },
                    { type: "transport", time: "07:25", title: "ç«è»Šå‡ºç™¼", sub: "å‰å¾€èˆåŒ—ç«™", desc: "æ­ä¹˜ç«è»Šå‰å¾€æ±ŸåŸé“ï¼Œè»Šç¨‹ç´„ 3.5 å°æ™‚ï¼Œå¯åœ¨è»Šä¸Šè£œçœ ã€‚", tags: ["è»Šç¨‹ 3.5hr"] },
                    { type: "transport", time: "10:55", title: "æŠµé”èˆåŒ—ç«è»Šç«™", sub: "è½‰ä¹˜æ¥é§", desc: "æŠµé” Sabuk Stationï¼Œè½‰ä¹˜å·´å£«å‰å¾€ High 1 æ»‘é›ªå ´ã€‚", },
                    { type: "activity", time: "11:05", title: "æŠµé” High 1", sub: "æ»‘é›ªåº¦å‡æ‘", desc: "æŠµé” Mountain Ski Houseã€‚", address: "265 High1-gil, Sabuk-eup, Jeongseon-gun", mapQuery: "í•˜ì´ì›ë¦¬ì¡°íŠ¸ ë§ˆìš´í‹´ìŠ¤í‚¤í•˜ìš°ìŠ¤" },
                    { type: "activity", time: "11:10", title: "æŒ‘é¸æ»‘é›ªè¡£", sub: "ç§Ÿå€Ÿè£å‚™", desc: "æŒ‘é¸é©åˆå°ºå¯¸çš„é›ªè¡£ã€é›ªè¤²ã€‚è¨˜å¾—æª¢æŸ¥å£è¢‹æ‹‰éŠæ˜¯å¦æ­£å¸¸ã€‚", tags: ["ç§Ÿå€Ÿ"] },
                    { type: "food", time: "11:40", title: "åˆé¤ / ä¼‘æ¯", sub: "è‡ªç”±ç”¨é¤", desc: "åœ¨æ»‘é›ªå ´é™„è¿‘æˆ–é¤å»³ç°¡å–®ç”¨é¤ï¼Œè£œå……é«”åŠ›ã€‚", },
                    { type: "activity", time: "12:30", title: "é ˜å–è£å‚™ & ä»˜å°¾æ¬¾", sub: "Ski House", desc: "é ˜å–æ»‘é›ªæ¿ã€é›ªé‹ã€‚**åŒæ™‚éœ€ä»¥ç¾é‡‘æ”¯ä»˜å°¾æ¬¾**ã€‚", tags: ["æº–å‚™ç¾é‡‘"], tips: "éœ€è¦ 500éŸ“å…ƒç¡¬å¹£ä½¿ç”¨ç½®ç‰©æ«ƒã€‚" },
                    { type: "activity", time: "12:50", title: "æ»‘é›ªèª²ç¨‹é–‹å§‹", sub: "Day 1 èª²ç¨‹", desc: "æ•™ç·´æ•™å­¸ï¼šç©¿è„«è£å‚™ã€å®‰å…¨è·Œå€’ã€ç«™èµ·ã€åŸºç¤ç…è»Š (Pizza)ã€‚", tags: ["æ•™å­¸ 3hr"] },
                    { type: "hotel", time: "16:30", title: "å…¥ä½ Ski House", sub: "Check-in", address: "265 High1-gil, Sabuk-eup, Jeongseon-gun", mapQuery: "í•˜ì´ì›ë¦¬ì¡°íŠ¸ ë§ˆìš´í‹´ì½˜ë„", desc: "è¾¦ç†å…¥ä½æ‰‹çºŒï¼Œå°‡è¡Œææ”¾å…¥æˆ¿é–“ã€‚", },
                    { type: "activity", time: "18:30", title: "å¤œé–“æ»‘é›ª", sub: "Night Ski", desc: "è‡ªç”±æ»‘é›ªæ™‚é–“ã€‚é–‹æ”¾è‡³ 22:00ã€‚", tags: ["é–‹æ”¾è‡³ 22:00"] },
                    { type: "snack", title: "æ·±å¤œè£œçµ¦ & å®µå¤œ", items: [ { name: "Mountain Condo ä¾¿åˆ©å•†åº—", desc: "Condo B1 é€šå¸¸æœ‰ CU æˆ– GS25ã€‚" }, { name: "å¤æ±—ä¹å­”ç‚­å¸‚å ´", desc: "æ­è¨ˆç¨‹è»Šæˆ–æ¥é§è»Šä¸‹å±±ï¼Œå®µå¤œä¸€ç´šæˆ°å€ï¼Œæœ‰çƒ¤è‚‰å’Œç‚¸é›ã€‚" }, { name: "å¤–é€ç‚¸é›", desc: "å¯è«‹æ«ƒæª¯å¹«å¿™å« Pelicana æˆ– Mexicana ç‚¸é› (éœ€ä»˜å¤–é€è²»)ï¼Œåœ¨ Lobby å–é¤ã€‚" } ] }
                ]
            },
            "2025-12-23": {
                title: "DAY 3 / å…¨æ—¥æ»‘é›ª",
                subtitle: "Ski & Relax",
                weather: { t: "-8Â°C", i: "fa-snowflake", tip: "å±±é ‚é¢¨å¤§ï¼Œå‹™å¿…æˆ´è­·ç›®é¡" },
                discovery: { title: "é›²ç«¯ä¸Šçš„å’–å•¡å»³", desc: "High 1 æ“æœ‰éŸ“åœ‹æµ·æ‹”æœ€é«˜çš„æ—‹è½‰å’–å•¡å»³ (1340m)ã€‚", spots: [{ name: "Top of the Top", type: "æ™¯é»", desc: "æ­çºœè»Šä¸Šå±±é ‚ï¼Œ360åº¦æ¬£è³é›ªæ™¯ã€‚" }, { name: "å¤æ±—é‚‘çƒ¤è‚‰", type: "æ™šé¤", desc: "æ™šé¤å»ºè­°æ­æ¥é§è»Šä¸‹å±±å»å¤æ±—é‚‘åƒéŸ“å¼çƒ¤è‚‰ã€‚" }] },
                items: [
                    { type: "activity", time: "09:00", title: "æ»‘é›ªèª²ç¨‹ Day 2", sub: "é€²éšæŠ€å·§", desc: "æ—©ä¸Šèª²ç¨‹é–‹å§‹ã€‚ç·´ç¿’é‡å¿ƒè½‰ç§»èˆ‡ S å‹è½‰å½ã€‚", tags:["æ•™å­¸ 3hr"] },
                    { type: "food", time: "12:00", title: "èª²ç¨‹çµæŸ & åˆé¤", sub: "Ski House", desc: "çµæŸæ‰€æœ‰æ•™å­¸èª²ç¨‹ã€‚åˆé¤æ™‚é–“ã€‚", tags:["ä¼‘æ¯"] },
                    { type: "activity", time: "13:00", title: "è‡ªç”±ç·´ç¿’ / è§€å…‰", sub: "Free Time", desc: "ä¸‹åˆ 13:00 ~ 15:45 ç‚ºè‡ªç”±æ™‚é–“ã€‚", tags:["è‡ªç”±æ´»å‹•"] },
                    { type: "activity", time: "13:30", title: "Top of the Top", sub: "è§€å…‰çºœè»Šæ¨è–¦", desc: "è‹¥ä¸æ»‘é›ªï¼Œå¼·çƒˆå»ºè­°æ­çºœè»Šè‡³ 1340m å±±é ‚æ—‹è½‰å’–å•¡å»³æ‹ç…§ã€‚", tags:["å¿…å»"] },
                    { type: "activity", time: "18:30", title: "å¤œé–“æ»‘é›ª", sub: "Night Ski", desc: "ç¬¬äºŒå¤©å¤œæ»‘ã€‚æŠŠæ¡æœ€å¾Œä¸€æ™šçš„é›ªåœ°æ™‚å…‰ã€‚", tags:["é–‹æ”¾è‡³ 22:00"] },
                    { type: "snack", title: "æ·±å¤œè£œçµ¦ & å®µå¤œ", items: [ { name: "Mountain Condo ä¾¿åˆ©å•†åº—", desc: "è²·äº›éŸ“åœ‹é›¶é£Ÿã€é¦¬æ ¼åˆ©é…’å›æˆ¿é–“æ…¶ç¥ã€‚" }, { name: "å¤æ±—å¸‚å ´", desc: "è‹¥æƒ³åƒç†±é£Ÿï¼Œå¸‚å ´å…§çš„æ¹¯é£¯æ˜¯çµ•ä½³é¸æ“‡ã€‚" } ] }
                ]
            },
            "2025-12-24": {
                title: "DAY 4 / è¿”å›é¦–çˆ¾",
                subtitle: "Christmas Eve",
                weather: { t: "-2Â°C", i: "fa-tree", tip: "å¹³å®‰å¤œäººå¤šï¼Œæ³¨æ„ä¿æš–" },
                discovery: { title: "å¹³å®‰å¤œçš„é¦–çˆ¾", desc: "é¦–çˆ¾çš„è–èª•æ°£æ°›éå¸¸æ¿ƒåšï¼Œå°¤å…¶æ˜¯æ˜æ´æ•™å ‚å’Œæ–°ä¸–ç•Œç™¾è²¨çš„ç‡ˆé£¾ã€‚", spots: [{ name: "éº»æµ¦çƒ¤è…¸åŸ", type: "å¿…åƒ", desc: "å¼˜å¤§æ’éšŠååº—ï¼Œå¿…åƒè”¬èœçƒ¤è…¸ï¼" }, { name: "æ˜æ´è–å ‚", type: "æ™¯é»", desc: "å¹³å®‰å¤œæœ€ç¾çš„åœ°æ–¹ã€‚" }] },
                items: [
                    { type: "hotel", time: "08:20", title: "é€€æˆ¿ Check-out", sub: "æ•´ç†è¡Œæ", desc: "11:00 å‰å¿…é ˆå®Œå…¨é€€æˆ¿ã€‚", tags:["é€€æˆ¿"] },
                    { type: "activity", time: "09:00", title: "è‡ªç”±æ»‘é›ª / èª²ç¨‹", sub: "æœ€å¾Œè¡åˆº", desc: "Day 3 èª²ç¨‹æˆ–è‡ªç”±ç·´ç¿’æ™‚é–“ã€‚", tags:["æœ€å¾Œæ»‘é›ª"] },
                    { type: "activity", time: "15:45", title: "æ­¸é‚„è£å‚™ & é›†åˆ", sub: "Mountain Ski House", desc: "æ­¸é‚„æ‰€æœ‰ç§Ÿå€Ÿè£å‚™ã€‚åœ¨ Ski House å‰é›†åˆã€‚", tags:["é›†åˆ"] },
                    { type: "transport", time: "16:20", title: "å·´å£«å›é¦–çˆ¾", sub: "æº–æ™‚ç™¼è»Š", desc: "æ­ä¹˜å·´å£«è¿”å›é¦–çˆ¾ã€‚è»Šç¨‹ç´„ 3.5 å°æ™‚ã€‚", tags:["å›ç¨‹"] },
                    { type: "transport", time: "19:45", title: "æŠµé” æ˜æ´ç«™", sub: "è§£æ•£", desc: "å·´å£«åœé æ˜æ´ç«™ã€‚åœ¨æ­¤ä¸‹è»Šè½‰æ­åœ°éµå»åƒæ™šé¤ã€‚", tags:["æŠµé”"] },
                    { type: "transit", from: "æ˜æ´", to: "å¼˜å¤§å…¥å£ (æ™šé¤)", steps: [ { line: "line-4", name: "4è™Ÿç·š", dir: "å¾€ æ±å¤§é–€æ­·å²å…¬åœ’", desc: "æ˜æ´ç«™ âœ æ±å¤§é–€æ­·å²å…¬åœ’ç«™", time: "4åˆ†é˜" }, { line: "line-2", name: "è½‰ä¹˜ 2è™Ÿç·š", dir: "å¾€ å¼˜å¤§å…¥å£", desc: "æ±å¤§é–€æ­·å²å…¬åœ’ âœ å¼˜å¤§å…¥å£ç«™ (8ç«™)", time: "17åˆ†é˜" } ] },
                    { type: "food", time: "20:30", title: "æ™šé¤ï¼šéº»æµ¦çƒ¤è…¸åŸ", sub: "å¼˜å¤§å…¥å£ç«™", exit: "2è™Ÿå‡ºå£", desc: "è¶…äººæ°£çƒ¤è…¸åº—ï¼æ¨è–¦é»ã€è”¬èœçƒ¤è…¸ã€ã€‚åƒå®Œè¨˜å¾—åŠ é»ç‚’é£¯ï¼", naverLink: "https://naver.me/59voptcA", tips: "äººæ½®çœ¾å¤šï¼Œå»ºè­°ææ—©å‰å¾€ã€‚", tags: ["å¿…åƒ", "å¹³å®‰å¤œå¤§é¤"] },
                    { type: "transit", from: "å¼˜å¤§å…¥å£ (é¤å»³)", to: "åˆäº•ç«™ (Airbnb)", steps: [ { line: "line-2", name: "2è™Ÿç·š", dir: "å¾€ åˆäº•/å ‚å±±", desc: "å¼˜å¤§å…¥å£ âœ åˆäº•ç«™ (1ç«™)", time: "3åˆ†é˜", exit: "7è™Ÿå‡ºå£" }, { line: "line-walk", name: "æ­¥è¡Œ", dir: "å‰å¾€ä½å®¿", desc: "æ­¥è¡Œç´„ 10 åˆ†é˜æŠµé”", time: "10åˆ†é˜" } ] },
                    { type: "hotel", time: "22:30", title: "å…¥ä½ Airbnb", sub: "Host: Dada", address: "52 Tojeong-ro 11-gil, Mapo-gu, Seoul", mapQuery: "ì„œìš¸ ë§ˆí¬êµ¬ í† ì •ë¡œ11ê¸¸ 52", desc: "å¾å¼˜å¤§/åˆäº•å€åŸŸå‰å¾€ä½å®¿è™•ã€‚Check-in 15:00 å¾Œã€‚", tips: "å¯†ç¢¼é–å…¥ä½ï¼Œè«‹ç¢ºèªæ˜¯å¦æ”¶åˆ°æˆ¿æ±å¯†ç¢¼ã€‚" }
                ]
            },
            "2025-12-25": { 
                title: "DAY 5 / è–èª•å¿«æ¨‚", subtitle: "Free Time", weather: { t: "0Â°C", i: "fa-gift", tip: "é©åˆç©¿å¤§è¡£ï¼Œåœå·¾å¿…å‚™" },
                discovery: {
                    title: "è–æ°´æ´ï¼šé¦–çˆ¾çš„å¸ƒé­¯å…‹æ—",
                    desc: "å»¢æ£„å·¥å» æ”¹å»ºçš„å’–å•¡å»³èˆ‡æ½®ç‰Œåº—èšé›†åœ°ï¼Œæ˜¯é¦–çˆ¾ç¾åœ¨æœ€æ½®çš„å€åŸŸã€‚",
                    spots: [
                        { name: "NUDAKE", type: "ç”œé»", desc: "Gentle Monster æ——ä¸‹çš„è—è¡“ç”œé»åº—ï¼Œå¿…é»ã€æŠ¹èŒ¶å²©æ¼¿ç‰›è§’ã€ã€‚" },
                        { name: "Dior è–æ°´", type: "æ‰“å¡", desc: "è¶…ç¾çš„ç»ç’ƒæº«å®¤å»ºç¯‰ï¼Œæ™šä¸Šé»ç‡ˆæ›´ç¾ã€‚" }
                    ]
                },
                items: [
                    { 
                        type: "transit", from: "åˆäº•ç«™ (Airbnb)", to: "æ–°æ‘ (åˆé¤)", 
                        steps: [{ line: "line-2", name: "2è™Ÿç·š", dir: "å¾€ å¼˜å¤§/æ–°æ‘", desc: "åˆäº• âœ æ–°æ‘ç«™ (2ç«™)", time: "5åˆ†é˜", exit: "1è™Ÿå‡ºå£" }]
                    },
                    { 
                        type: "food", time: "12:00", title: "åˆé¤ï¼šæ˜¥å·å®¶è¾£ç‚’é›æ’", sub: "æ–°æ‘ç«™", exit: "1è™Ÿå‡ºå£",
                        desc: "å¿…é»ã€èµ·å¸è¾£ç‚’é›æ’ã€+ ç¶œåˆé…æ–™ (éºµæ¢/å¹´ç³•/åœ°ç“œ)ã€‚æœ€å¾Œä¸€å®šè¦ç‚’é£¯ï¼", 
                        naverLink: "https://map.naver.com/v5/search/ì¶˜ì²œì§‘ë‹­ê°ˆë¹„ë§‰êµ­ìˆ˜",
                        tags: ["å¿…åƒ", "æ’éšŠç¾é£Ÿ"] 
                    },
                    { 
                        type: "transit", from: "æ–°æ‘ (åˆé¤)", to: "è–æ°´æ´", 
                        steps: [
                            { line: "line-2", name: "2è™Ÿç·š", dir: "å¾€ ä¹™æ”¯è·¯/è–æ°´", desc: "æ–°æ‘ âœ è–æ°´ç«™ (13ç«™)", time: "25åˆ†é˜", exit: "3è™Ÿå‡ºå£" }
                        ]
                    },
                    { type: "activity", time: "14:00", title: "è–æ°´æ´ Cafe & Shopping", sub: "è–æ°´ç«™", desc: "é€› Tamburins, Dior(æ‹ç…§), Point of View æ–‡å…·åº—ã€‚ä¸‹åˆèŒ¶æ¨è–¦ï¼šOnion æˆ– NUDAKEã€‚", tags:["é€›è¡—", "ç¶²ç¾æ™¯é»"] },
                    { 
                        type: "transit", from: "è–æ°´ç«™", to: "é¦¬å ´æ´ (æ™šé¤)", 
                        steps: [
                            { line: "line-2", name: "2è™Ÿç·š", dir: "å¾€ å¾€åé‡Œ", desc: "è–æ°´ âœ å¾€åé‡Œ (2ç«™)" },
                            { line: "line-5", name: "è½‰ä¹˜ 5è™Ÿç·š", dir: "å¾€ é¦¬å ´/åƒæˆ¶", desc: "å¾€åé‡Œ âœ é¦¬å ´ç«™ (1ç«™)", time: "15åˆ†é˜", exit: "2è™Ÿå‡ºå£" }
                        ]
                    },
                    { 
                        type: "food", time: "19:00", title: "æ™šé¤ï¼šé¦¬å ´æ´éŸ“ç‰›æ‘", sub: "é¦¬å ´ç«™", exit: "2è™Ÿå‡ºå£",
                        desc: "ç›´æ¥åœ¨è‚‰èˆ–é¸è‚‰ (æ¨è–¦: é›ªèŠ±é‡Œè„Š Salchisal)ï¼Œå†å»æ¨“ä¸Šé¤å»³çƒ¤ã€‚CPå€¼æœ€é«˜çš„éŸ“ç‰›é«”é©—ã€‚", 
                        naverLink: "https://map.naver.com/v5/search/ë§ˆì¥ì¶•ì‚°ë¬¼ì‹œì¥",
                        tags: ["éŸ“ç‰›", "è–èª•å¤§é¤"] 
                    },
                    { 
                        type: "transit", from: "é¦¬å ´æ´", to: "æ±å¤§é–€", 
                        steps: [
                            { line: "line-5", name: "5è™Ÿç·š", dir: "å¾€ æ±å¤§é–€æ­·å²å…¬åœ’", desc: "é¦¬å ´ âœ æ±å¤§é–€æ­·å²å…¬åœ’ (3ç«™)", time: "6åˆ†é˜", exit: "14è™Ÿå‡ºå£" }
                        ]
                    },
                    { type: "activity", time: "21:00", title: "æ±å¤§é–€å¤œé€›", sub: "æ±å¤§é–€æ­·å²å…¬åœ’ç«™", desc: "NyuNyu é£¾å“æ‰¹ç™¼ (é–‹åˆ°å‡Œæ™¨)ã€DDP è¨­è¨ˆå»£å ´å¤œæ™¯ã€‚é€±å››æ™šä¸Šæ‰¹ç™¼å¸‚å ´æœ‰é–‹ã€‚", tags:["å¤œè²“è¡Œç¨‹"] }
                ] 
            },
            "2025-12-26": { 
                title: "DAY 6 / æ–‡åŒ–å·¡ç¦®", subtitle: "Seoul City", weather: { t: "2Â°C", i: "fa-sun", tip: "å¤©æ°£è½‰æ™´ï¼Œé©åˆæˆ¶å¤–æ‹ç…§" }, 
                items: [
                    { 
                        type: "transit", from: "åˆäº•ç«™ (Airbnb)", to: "è¥¿æ‘ (æ—©æ™¨æ•£æ­¥)", 
                        steps: [{ line: "line-2", name: "2è™Ÿç·š", dir: "å¾€ ä¹™æ”¯è·¯", desc: "åˆäº• âœ ä¹™æ”¯è·¯3è¡— (6ç«™)" }, { line: "line-3", name: "è½‰ä¹˜ 3è™Ÿç·š", dir: "å¾€ æ™¯ç¦å®®", desc: "ä¹™æ”¯è·¯3è¡— âœ æ™¯ç¦å®®ç«™ (2ç«™)", time: "25åˆ†é˜", exit: "2è™Ÿå‡ºå£" }] 
                    },
                    { 
                        type: "activity", time: "09:30", title: "è¥¿æ‘ & é€šä»å¸‚å ´", sub: "æ™¯ç¦å®®ç«™", exit: "2è™Ÿå‡ºå£",
                        desc: "é€›é€›è¥¿æ‘çš„ç‰¹è‰²å°åº—ã€æ›¸åº—ã€‚å¯ä»¥å»é€šä»å¸‚å ´ç”¨å¤éŠ…éŒ¢è²·ä¾¿ç•¶ã€‚", 
                        naverLink: "https://map.naver.com/v5/search/ì„œì´Œë§ˆì„",
                        tags: ["æ–‡é’", "å¸‚å ´ç¾é£Ÿ"]
                    },
                    { 
                        type: "transit", from: "è¥¿æ‘", to: "åŒ—æ‘ (Artist Bakery)", 
                        steps: [{ line: "line-walk", name: "æ­¥è¡Œ/å…¬è»Š", dir: "å¾€ å®‰åœ‹ç«™", desc: "æ­¥è¡Œç´„ 15-20 åˆ†é˜ï¼Œæˆ–æ­ä¹˜å…¬è»Š", time: "20åˆ†é˜" }] 
                    },
                    { 
                        type: "food", time: "12:00", title: "åˆèŒ¶ï¼šArtist Bakery", sub: "å®‰åœ‹ç«™", exit: "1è™Ÿå‡ºå£",
                        desc: "å€«æ•¦è²æœå§å¦¹åº—ï¼Œä¸»æ‰“å¤šç¨®å£å‘³ã€é¹½éºµåŒ…ã€ã€‚æ¨è–¦ï¼šæ¾éœ²é¹½éºµåŒ…ã€æ´‹è”¥å¤§è”¥é¹½éºµåŒ…ã€‚", 
                        naverLink: "https://map.naver.com/v5/search/ì•„í‹°ìŠ¤íŠ¸ë² ì´ì»¤ë¦¬",
                        tips: "äººæ°£è¶…é«˜ï¼Œå»ºè­°å…ˆæŠ½è™Ÿç¢¼ç‰Œã€‚",
                        tags: ["æ’éšŠååº—", "é¹½éºµåŒ…"]
                    },
                    { type: "activity", time: "13:30", title: "åŒ—æ‘éŸ“å±‹æ‘ & æ™¯ç¦å®®", sub: "å®‰åœ‹ç«™", desc: "ç©¿è‘—éŸ“æœåœ¨å¤å®®æ‹ç…§ã€‚ä¸‹åˆå¯ä»¥åœ¨ä¸‰æ¸…æ´å–å’–å•¡æˆ–é€›é€›å·¥è—å“åº—ã€‚", tags:["æ–‡åŒ–é«”é©—"] },
                    { 
                        type: "transit", from: "åŒ—æ‘", to: "ç›Šå–„æ´", 
                        steps: [{ line: "line-walk", name: "æ­¥è¡Œ", dir: "å¾€ é˜è·¯3è¡—", desc: "å¾å®‰åœ‹ç«™æ­¥è¡Œç´„ 10 åˆ†é˜å³å¯æŠµé”", time: "10åˆ†é˜" }] 
                    },
                    { type: "activity", time: "16:00", title: "ç›Šå–„æ´éŸ“å±‹æ‘", sub: "é˜è·¯3è¡—ç«™", desc: "ç‹¹çª„å··å¼„è£¡çš„å¾©å¤å’–å•¡å»³èˆ‡æ–‡å‰µå°åº—ã€‚å‚æ™šé»ç‡ˆå¾Œæ°£æ°›æ¥µä½³ã€‚", naverLink: "https://map.naver.com/v5/search/ìµì„ ë™%20í•œì˜¥ê±°ë¦¬", tags:["å¾©å¤é¢¨", "æ‹ç…§"] },
                    { 
                        type: "transit", from: "ç›Šå–„æ´", to: "å¼˜å¤§ (æ™šé¤)", 
                        steps: [{ line: "line-walk", name: "æ­¥è¡Œ", dir: "å¾€ ä¹™æ”¯è·¯3è¡—", desc: "æ­¥è¡Œè‡³ä¹™æ”¯è·¯3è¡—ç«™" }, { line: "line-2", name: "2è™Ÿç·š", dir: "å¾€ å¼˜å¤§", desc: "ä¹™æ”¯è·¯3è¡— âœ å¼˜å¤§å…¥å£ (6ç«™)", time: "15åˆ†é˜", exit: "9è™Ÿå‡ºå£" }] 
                    },
                    { 
                        type: "food", time: "19:00", title: "æ™šé¤ï¼šç™¾å¹´åœŸç¨®è”˜é›æ¹¯", sub: "å¼˜å¤§å…¥å£ç«™", exit: "9è™Ÿå‡ºå£",
                        desc: "ç±³å…¶æ—æ¨è–¦ï¼æ¹¯é ­æ¿ƒéƒï¼Œé›è‚‰ç‡‰åˆ°éª¨è‚‰åˆ†é›¢ã€‚å†¬å¤©å–ä¸€ç¢—å…¨èº«æš–å‘¼å‘¼ã€‚", 
                        naverLink: "https://map.naver.com/v5/search/ë°±ë…„í† ì¢…ì‚¼ê³„íƒ•%20ë³¸ì ",
                        tags: ["ç±³å…¶æ—", "å¿…åƒ"]
                    }
                ] 
            },
            "2025-12-27": {
                title: "DAY 7 / æ»¿è¼‰è€Œæ­¸", subtitle: "Bye Seoul", weather: { t: "3Â°C", i: "fa-plane", tip: "æ­æ©Ÿè«‹ç©¿è‘—èˆ’é©å¯¬é¬†" },
                discovery: { title: "æœ€å¾Œæ¡è²·æ¸…å–®", desc: "é›¢é–‹å‰åœ¨é¦–çˆ¾ç«™æŠŠä¼´æ‰‹ç¦®ä¸€æ¬¡è²·é½Šï¼", spots: [ { name: "HBAF æä»æœ", type: "å¿…è²·", desc: "èœ‚èœœå¥¶æ²¹ã€èŠ¥æœ«å£å‘³æœ€ç¶“å…¸ã€‚" }, { name: "æµ·è‹” & æ³¡éºµ", type: "å¿…è²·", desc: "è¾›æ‹‰éºµã€å®‰åŸæ¹¯éºµè¨˜å¾—è²·æ•´ç®±ç›´æ¥è¨—é‹ã€‚" } ] },
                items: [
                    { type: "hotel", time: "11:00", title: "é€€æˆ¿ Check-out", sub: "Airbnb", desc: "11:00 å‰é€€æˆ¿ã€‚å¸¶è‘—è¡Œæå‰å¾€é¦–çˆ¾ç«™ã€‚", tags: ["é€€æˆ¿"] },
                    { type: "transit", from: "åˆäº•ç«™ (Airbnb)", to: "é¦–çˆ¾ç«™", steps: [ { line: "line-2", name: "2è™Ÿç·š", dir: "å¾€ å¸‚å»³ (City Hall)", desc: "åˆäº• âœ å¸‚å»³ç«™ (5ç«™)", time: "11åˆ†é˜" }, { line: "line-1", name: "è½‰ä¹˜ 1è™Ÿç·š", dir: "å¾€ é¦–çˆ¾ç«™", desc: "å¸‚å»³ âœ é¦–çˆ¾ç«™ (1ç«™)", time: "2åˆ†é˜", exit: "1è™Ÿå‡ºå£" } ] },
                    { type: "shopping", time: "14:00", title: "æ¨‚å¤©è¶…å¸‚", sub: "é¦–çˆ¾ç«™åº—", desc: "æœ€å¾Œæ¡è²·ä¼´æ‰‹ç¦®ã€‚å¯ç¾å ´é€€ç¨…ã€‚<br><span class=\"text-xs text-blue-600 font-bold bg-blue-50 px-2 py-1 rounded mt-2 inline-block\"><i class=\"fas fa-subway mr-1\"></i>é¦–çˆ¾ç«™ 1è™Ÿå‡ºå£ç›´é”</span>", tags: ["å¿…è²·"] },
                    { type: "transport", time: "20:00", title: "å‰å¾€æ©Ÿå ´", sub: "AREX æ©Ÿå ´å¿«ç·š", desc: "å¾æ¨‚å¤©è¶…å¸‚æ¡è²·å®Œï¼Œç›´æ¥é€²é¦–çˆ¾ç«™æ­ä¹˜ AREX ç›´é”è»Šå‰å¾€ä»å·æ©Ÿå ´ã€‚" },
                    { type: "flight", airline: "Scoot é…·èˆª", code: "TR897", from: "ICN", fromCity: "é¦–çˆ¾ä»å·", fromTime: "23:00", fromTerm: "T1", to: "TPE", toCity: "å°åŒ—æ¡ƒåœ’", toTime: "00:45", toTerm: "T1", bag: "50kg", gate: "--" }
                ]
            }
        };

        // ... (rest of the script remains the same)
        const phrases = [ { k: "ì•ˆë…•í•˜ì„¸ìš”", p: "AN-NYEONG-HA-SE-YO", m: "ä½ å¥½" }, { k: "ê°ì‚¬í•©ë‹ˆë‹¤", p: "GAM-SA-HAM-NI-DA", m: "è¬è¬" }, { k: "ì ì‹œë§Œìš”", p: "JAM-SI-MAN-YO", m: "ä¸å¥½æ„æ€ (å€Ÿé)" }, { k: "ì´ê±° ì£¼ì„¸ìš”", p: "I-GEO JU-SE-YO", m: "è«‹çµ¦æˆ‘é€™å€‹" }, { k: "ì–¼ë§ˆì˜ˆìš”?", p: "EOL-MA-YE-YO", m: "è«‹å•å¤šå°‘éŒ¢ï¼Ÿ" }, { k: "í™”ì¥ì‹¤ ì–´ë””ì˜ˆìš”?", p: "HWA-JANG-SIL EO-DI-YE-YO", m: "å»æ‰€åœ¨å“ªè£¡ï¼Ÿ" }, { k: "ê¹ì•„ì£¼ì„¸ìš”", p: "KKA-KKA-JU-SE-YO", m: "å¯ä»¥ç®—ä¾¿å®œé»å—ï¼Ÿ" }, { k: "ë©´ì„¸ ë˜ë‚˜ìš”?", p: "MYEON-SE DOE-NA-YO", m: "å¯ä»¥é€€ç¨…å—ï¼Ÿ" }, { k: "ë¬¼ ì£¼ì„¸ìš”", p: "MUL JU-SE-YO", m: "è«‹çµ¦æˆ‘æ°´" }, { k: "ê³„ì‚°í•´ ì£¼ì„¸ìš”", p: "GYE-SAN-HAE JU-SE-YO", m: "éº»ç…©çµå¸³" } ];
        const defaultChecklistData = [ { title: "è­‰ä»¶èˆ‡éŒ¢è²¡", items: ["è­·ç…§ (æª¢æŸ¥æ•ˆæœŸ)", "æ©Ÿç¥¨ (é›»å­/ç´™æœ¬)", "ç¾é‡‘ (éŸ“å¹£)", "ä¿¡ç”¨å¡ (æµ·å¤–å›é¥‹)", "æ—…éŠä¿éšªå–®"] }, { title: "æ»‘é›ªè£å‚™", items: ["ä¿æš–é•·è¥ª (åš)", "ç™¼ç†±è¡£è¤² (å…©å¥—)", "é˜²æ°´æ‰‹å¥—", "æ¯›å¸½ (é®è€³)", "åœè„–/è„–åœ"] }, { title: "é›»å­ç”¨å“", items: ["è½‰æ¥é ­ (éŸ“åœ‹åœ“å­”)", "è¡Œå‹•é›»æº", "å……é›»ç·š", "SIMå¡/æ¼«éŠ"] }, { title: "è—¥å“èˆ‡é›œç‰©", items: ["æ„Ÿå†’è—¥", "æ­¢ç—›è—¥", "è…¸èƒƒè—¥", "æš–æš–åŒ…", "å€‹äººä¿é¤Šå“"] }, { title: "å€‹äººç‰©å“", items: [] } ];
        let activeDate = "2025-12-21";
        let expenses = JSON.parse(localStorage.getItem('ski_exp_final_v6')) || [];
        let checklistData = JSON.parse(localStorage.getItem('ski_checklist_data_v2')) || defaultChecklistData;
        let checkedItems = JSON.parse(localStorage.getItem('ski_checklist_checked_v2')) || [];
        let currentRate = parseFloat(localStorage.getItem('ski_rate')) || 43; 

        function init() { renderHeader(); renderItinerary(); }
        // ... (renderHeader, setDate, renderItinerary, renderTranslation, renderAccounting, addEx, delEx, updateRate, renderTools, toggleCheck, addChecklistItem, removeChecklistItem, convertKRW, switchTab functions remain exactly the same as previous)
        function renderHeader(){const c=document.getElementById("header-container"),d=tripData[activeDate];let n=document.getElementById("date-nav-scroll");if(!n){const h=Object.keys(tripData).map(e=>{const t=new Date(e),a=tripData[e].weather.i;return`<div id="date-btn-${e}" onclick="setDate('${e}')" class="flex-shrink-0 flex flex-col items-center justify-center w-[60px] h-[85px] mr-3 rounded-2xl cursor-pointer transition-all border border-slate-100 bg-white text-slate-400"><span class="text-[10px] uppercase font-bold tracking-wider opacity-70 mb-1">${t.toLocaleDateString("en-US",{weekday:"short"})}</span><span class="text-xl font-black font-mono leading-none">${t.getDate()}</span><i class="fas ${a} text-xs mt-2 text-slate-300"></i></div>`}).join("");c.innerHTML=`<div class="bg-white/90 backdrop-blur-md pt-6 pb-2 border-b border-slate-100"><div class="px-5 mb-4 flex justify-between items-end"><div><div id="header-sub" class="text-xs font-bold text-blue-600 tracking-widest uppercase mb-1">${d.subtitle}</div><h1 id="header-title" class="text-3xl font-black text-slate-900">${d.title.split("/")[1].trim()}</h1></div><div class="bg-slate-50 px-3 py-2 rounded-xl border border-slate-100 text-center"><div class="text-lg text-slate-700"><i id="header-weather-icon" class="fas ${d.weather.i}"></i></div><div id="header-weather-temp" class="text-xs font-bold text-slate-500">${d.weather.t}</div></div></div><div id="header-tip-container" class="px-5 mb-4"><div class="flex items-center text-xs font-medium text-slate-500 bg-slate-50 p-2 rounded-lg border border-slate-100"><i class="fas fa-tshirt mr-2 text-slate-400"></i><span id="header-tip">${d.weather.tip}</span></div></div><div id="date-nav-scroll" class="flex overflow-x-auto hide-scrollbar px-5 pb-4">${h}</div></div>`}else{document.getElementById("header-sub").innerText=d.subtitle,document.getElementById("header-title").innerText=d.title.split("/")[1].trim(),document.getElementById("header-weather-icon").className=`fas ${d.weather.i}`,document.getElementById("header-weather-temp").innerText=d.weather.t,document.getElementById("header-tip").innerText=d.weather.tip}Object.keys(tripData).forEach(e=>{const t=document.getElementById(`date-btn-${e}`),a=t.querySelector("i"),r=tripData[e].weather.i;e===activeDate?(t.className="flex-shrink-0 flex flex-col items-center justify-center w-[60px] h-[85px] mr-3 rounded-2xl cursor-pointer transition-all bg-slate-800 text-white shadow-lg scale-105 border border-slate-800",a.className=`fas ${r} text-xs mt-2 text-blue-200`):(t.className="flex-shrink-0 flex flex-col items-center justify-center w-[60px] h-[85px] mr-3 rounded-2xl cursor-pointer transition-all bg-white text-slate-400 border border-slate-100",a.className=`fas ${r} text-xs mt-2 text-slate-300`)})}
        function setDate(e){activeDate=e,renderHeader(),renderItinerary(),window.scrollTo({top:0,behavior:"smooth"})}
        function renderItinerary(){const e=tripData[activeDate],t=e.items,a=document.getElementById("main-content");let r="";if(e.discovery){const n=e.discovery.spots.map(e=>`<div class="flex items-start mb-3 last:mb-0"><div class="bg-white/20 text-white text-[10px] px-2 py-0.5 rounded font-bold mr-2 mt-0.5 flex-shrink-0">${e.type}</div><div><div class="font-bold text-sm text-white leading-tight">${e.name}</div><div class="text-xs text-slate-300 mt-0.5 leading-snug">${e.desc}</div></div></div>`).join("");r=`<div class="discovery-card animate-fade-in"><div class="discovery-tag"><i class="fas fa-compass mr-1"></i> æ¢ç´¢å‘¨é‚Š</div><h3 class="text-xl font-bold mb-2">${e.discovery.title}</h3><p class="text-sm text-slate-300 mb-4 leading-relaxed">${e.discovery.desc}</p><div class="bg-black/20 rounded-xl p-4 backdrop-blur-sm border border-white/10">${n}</div></div>`}const n=t.map((e,t)=>{if("flight"===e.type)return`<div class="boarding-pass"><div class="pass-top"><div class="flex justify-between items-center mb-6"><span class="bg-slate-900 text-white text-[10px] font-bold px-2 py-1 rounded tracking-widest">BOARDING PASS</span><div class="flex items-center gap-2"><i class="fas fa-plane text-slate-300"></i><span class="font-mono font-bold text-slate-700">${e.airline}</span></div></div><div class="flex justify-between items-end mb-2"><div><div class="text-4xl font-black text-slate-800 font-mono">${e.from}</div><div class="text-xs text-slate-500 font-bold mt-1 bg-slate-100 inline-block px-2 py-0.5 rounded">${e.fromCity}</div></div><div class="flex-1 flex flex-col items-center px-4 pb-2"><div class="text-xs font-mono font-bold text-blue-500 mb-1">${e.code}</div><div class="w-full h-[2px] bg-slate-200 relative"><div class="absolute right-0 -top-[3px] w-2 h-2 bg-slate-300 rounded-full"></div><i class="fas fa-plane absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-slate-300 text-xs transform rotate-90"></i></div></div><div class="text-right"><div class="text-4xl font-black text-slate-800 font-mono">${e.to}</div><div class="text-xs text-slate-500 font-bold mt-1 bg-slate-100 inline-block px-2 py-0.5 rounded">${e.toCity}</div></div></div><div class="grid grid-cols-2 gap-8 mt-6"><div><div class="text-[10px] text-slate-400 uppercase font-bold mb-1">Departure</div><div class="text-2xl font-bold text-slate-800 font-mono">${e.fromTime} <span class="text-sm text-slate-500 font-normal">(${e.fromTerm})</span></div></div><div class="text-right"><div class="text-[10px] text-slate-400 uppercase font-bold mb-1">Arrival</div><div class="text-2xl font-bold text-blue-600 font-mono">${e.toTime} <span class="text-sm text-blue-400 font-normal">(${e.toTerm})</span></div></div></div></div><div class="pass-bottom"><div><div class="text-[10px] text-slate-400 uppercase font-bold">Baggage</div><div class="text-sm font-bold text-slate-700">${e.bag}</div></div><div><div class="text-[10px] text-slate-400 uppercase font-bold text-right">Gate</div><div class="text-sm font-bold text-slate-700 text-right">${e.gate}</div></div></div></div>`;if("snack"===e.type){const t=e.items.map(e=>`<div class="flex items-start mb-3 last:mb-0 border-b border-indigo-500/30 pb-3 last:border-0 last:pb-0"><i class="fas fa-utensils text-yellow-400 mt-1 mr-3 text-xs"></i><div><div class="font-bold text-white text-sm">${e.name}</div><div class="text-xs text-indigo-200 mt-0.5">${e.desc}</div></div></div>`).join("");return`<div class="snack-card"><div class="text-[10px] font-bold text-indigo-300 uppercase tracking-widest mb-3 flex items-center"><i class="fas fa-moon mr-1"></i> Nightlife & Snacks</div>${t}</div>`}if("transit"===e.type){const t=e.steps.map(e=>`<div class="transit-line justify-between group"><div class="flex items-center flex-1"><span class="line-badge ${e.line}">${e.name}</span><div class="flex-1"><div class="font-bold text-slate-700 text-xs flex items-center">${e.dir} ${e.exit?`<span class="exit-badge"><i class="fas fa-door-open mr-1"></i>${e.exit}</span>`:""}</div><div class="text-[10px] text-slate-400 mt-0.5">${e.desc}</div></div></div><div class="text-[10px] font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded ml-2 whitespace-nowrap border border-slate-200"><i class="fas fa-stopwatch mr-1 text-slate-400"></i>${e.time}</div></div>`).join("");return`<div class="transit-card"><div class="flex justify-between items-center mb-3 border-b border-slate-200 pb-2"><div class="text-xs font-bold text-slate-400 uppercase tracking-wider">äº¤é€šæŒ‡å—</div><div class="text-xs font-bold text-blue-600">${e.from} <i class="fas fa-arrow-right mx-1 text-slate-300"></i> ${e.to}</div></div><div>${t}</div></div>`}const n=`c-${t}`,i="transport"===e.type?"fa-train-subway":"hotel"===e.type?"fa-bed":"food"===e.type?"fa-utensils":"shopping"===e.type?"fa-bag-shopping":"fa-person-skiing",s="transport"===e.type?"text-blue-500":"hotel"===e.type?"text-purple-500":"food"===e.type?"text-orange-500":"shopping"===e.type?"text-pink-500":"text-cyan-500",l=e.tags?e.tags.map(e=>{let t="tag-slate";return(e.includes("å¿…")||e.includes("ç§Ÿ")||e.includes("é‡‘"))&&(t="tag-orange"),(e.includes("é›†")||e.includes("é²")||e.includes("æ³¨"))&&(t="tag-red"),(e.includes("æ•™")||e.includes("è·¯")||e.includes("è»Š"))&&(t="tag-blue"),`<span class="tag ${t}">${e}</span>`}).join(""):"";let o="";if(e.address||e.naverLink){const t=e.naverLink||`https://map.naver.com/v5/search/${encodeURIComponent(e.mapQuery||e.address)}`;o=`<a href="${t}" target="_blank" class="block mt-4 w-full bg-[#03C75A] text-white text-center py-3 rounded-xl font-bold text-sm shadow-sm active:scale-95 transition-transform flex items-center justify-center"><span class="mr-2 font-black text-lg">N</span> é–‹å•Ÿ Naver Map</a>`}let c=e.exit?`<span class="exit-badge mb-1"><i class="fas fa-door-open mr-1"></i>${e.exit}</span>`:"";return`<div id="${n}" class="app-card p-5 cursor-pointer active:scale-[0.99]" onclick="this.classList.toggle('active-card')"><div class="flex justify-between items-start"><div class="flex gap-4"><div class="w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center text-lg ${s} border border-slate-100 flex-shrink-0"><i class="fas ${i}"></i></div><div><div class="text-xs font-mono font-bold text-slate-400 mb-1">${e.time||""}</div><h3 class="text-lg font-bold text-slate-800 leading-tight mb-1 flex items-center">${e.title}</h3><div class="text-sm font-medium text-slate-500">${e.sub} ${c}</div><div class="mt-2">${l}</div></div></div><div class="chevron mt-2 text-slate-300"><i class="fas fa-chevron-down"></i></div></div><div class="accordion-content"><div class="text-sm text-slate-600 leading-relaxed p-4 bg-slate-50 rounded-xl border border-slate-100">${e.desc}</div>${e.tips?`<div class="mt-3 flex gap-3 p-3 bg-amber-50 rounded-xl border border-amber-100 text-xs text-amber-800"><i class="fas fa-lightbulb text-amber-500 mt-0.5 flex-shrink-0"></i><div><span class="font-bold">Tips:</span> ${e.tips}</div></div>`:""}${o}</div></div>`}).join("");a.innerHTML=`<div class="pb-20 animate-fade-in">${r}${n}</div>`}
        function renderTranslation() { document.getElementById('main-content').innerHTML = `<div class="pt-2 pb-24"><h2 class="text-2xl font-black text-slate-900 mb-6 px-2">åŸºæœ¬ç”¨èª (Basic Korean)</h2><div class="trans-grid">${phrases.map(p => `<div class="trans-card" onclick="alert('${p.p}')"><div class="trans-ko">${p.k}</div><div class="trans-pron">${p.p}</div><div class="trans-zh">${p.m}</div></div>`).join('')}</div></div>`; }
        function renderAccounting() { let t=0,m=0,c=0; expenses.forEach(e => { let a = e.c === 'TWD' ? parseInt(e.a) * currentRate : parseInt(e.a); t += a; if(e.w === 'me') m += a; else c += a; }); const d = m - (t / 2); const l = expenses.slice().reverse().map((e,i) => { const s = e.c === 'TWD' ? 'NT$' : 'â‚©'; const st = e.w === 'me' ? 'border-l-4 border-blue-500' : 'border-l-4 border-green-500'; return `<div class="flex justify-between items-center p-4 bg-white rounded-xl mb-3 shadow-sm ${st}"><div><div class="font-bold text-slate-700">${e.i}</div><div class="text-xs text-slate-400 mt-1">${e.w==='me'?'æˆ‘':'æ¯'}å…ˆä»˜</div></div><div class="text-right"><div class="font-bold text-slate-800">${s} ${parseInt(e.a).toLocaleString()}</div><button onclick="delEx(${expenses.length-1-i})" class="text-xs text-red-300 mt-1 px-2 py-1"><i class="fas fa-trash"></i></button></div></div>`; }).join(''); document.getElementById('main-content').innerHTML = `<div class="pt-4 pb-24"><div class="bg-slate-900 text-white p-6 rounded-2xl shadow-xl mb-6"><div class="flex justify-between items-start mb-2"><div class="text-xs text-slate-400 uppercase font-bold">Total Spent (Est.)</div><div class="text-[10px] bg-slate-800 px-2 py-1 rounded text-slate-400">Rate: 1 TWD â‰ˆ ${currentRate} KRW</div></div><div class="text-4xl font-black mb-4 font-mono">â‚©${t.toLocaleString()}</div><div class="flex gap-4 pt-4 border-t border-white/10 text-sm"><div class="flex-1">æˆ‘ä»˜ â‰ˆ â‚©${m.toLocaleString()}</div><div class="flex-1 text-right">æ¯ä»˜ â‰ˆ â‚©${c.toLocaleString()}</div></div></div><div class="text-center mb-6 font-bold ${d>0?'text-green-600':'text-blue-600'}">${d>0 ? `æ¯èŒ› éœ€çµ¦ä½  â‰ˆ â‚©${Math.abs(d).toLocaleString()}` : d<0 ? `ä½ éœ€çµ¦ æ¯èŒ› â‰ˆ â‚©${Math.abs(d).toLocaleString()}` : 'ç›®å‰çµæ¸…'}</div><div class="bg-white p-5 rounded-2xl shadow-sm border border-slate-200 mb-6"><div class="text-xs font-bold text-slate-400 mb-3 uppercase tracking-wider">æ–°å¢æ¶ˆè²»</div><div class="mb-3"><input id="ei" placeholder="é …ç›®åç¨± (ä¾‹å¦‚: æ™šé¤)" class="w-full p-3 rounded-xl border border-slate-200 bg-slate-50 outline-none focus:border-blue-500 transition-colors"></div><div class="flex gap-2 mb-4"><div class="relative w-1/3"><select id="ec" class="w-full p-3 rounded-xl border border-slate-200 bg-slate-50 outline-none focus:border-blue-500 appearance-none font-bold text-slate-700"><option value="KRW">â‚© KRW</option><option value="TWD">NT$ TWD</option></select><div class="absolute right-3 top-3.5 text-slate-400 pointer-events-none text-xs"><i class="fas fa-chevron-down"></i></div></div><input id="ea" type="number" placeholder="é‡‘é¡" class="w-2/3 p-3 rounded-xl border border-slate-200 bg-slate-50 outline-none focus:border-blue-500 transition-colors"></div><div class="flex gap-3"><button onclick="addEx('me')" class="flex-1 bg-blue-100 hover:bg-blue-200 py-3 rounded-xl font-bold text-blue-700 transition-colors active:scale-95">æˆ‘å…ˆä»˜</button><button onclick="addEx('cup')" class="flex-1 bg-green-100 hover:bg-green-200 py-3 rounded-xl font-bold text-green-700 transition-colors active:scale-95">æ¯èŒ›å…ˆä»˜</button></div></div><div>${l}</div></div>`; }
        function addEx(w){ const i=document.getElementById('ei').value,a=document.getElementById('ea').value,c=document.getElementById('ec').value; if(!i||!a)return; expenses.push({i,a,w,c,id:Date.now()}); localStorage.setItem('ski_exp_final_v6',JSON.stringify(expenses)); renderAccounting(); }
        function delEx(i){ if(confirm('ç¢ºå®šåˆªé™¤?')){expenses.splice(i,1); localStorage.setItem('ski_exp_final_v6',JSON.stringify(expenses)); renderAccounting();} }
        function updateRate(v) { const n = parseFloat(v); if(n > 0) { currentRate = n; localStorage.setItem('ski_rate', currentRate); const k = document.getElementById('krw-in'); if(k && k.value) convertKRW(k.value); } }
        function renderTools() { if (!checklistData.find(c => c.title === "å€‹äººç‰©å“")) { checklistData.push({ title: "å€‹äººç‰©å“", items: [] }); } const c = checklistData.map((g, ci) => `<div class="bg-white p-5 rounded-2xl shadow-sm border border-slate-100 mb-4"><h3 class="font-bold text-slate-800 mb-3 flex items-center"><i class="fas fa-check-circle text-blue-500 mr-2"></i> ${g.title}</h3><div>${g.items.map((it, ii) => { const ic = checkedItems.includes(it) ? 'checked' : ''; return `<div class="check-item justify-between group ${ic}" onclick="toggleCheck(this, '${it}')"><div class="flex items-center"><div class="checkbox-custom"><i class="fas fa-check text-xs"></i></div><span class="text-sm text-slate-700 font-medium item-text">${it}</span></div><button onclick="event.stopPropagation(); removeChecklistItem(${ci}, ${ii})" class="text-slate-300 hover:text-red-400 p-2 transition"><i class="fas fa-trash-alt"></i></button></div>`; }).join('')}</div></div>`).join(''); document.getElementById('main-content').innerHTML = `<div class="pt-4 pb-24"><h2 class="text-2xl font-black text-slate-900 mb-6 px-2">Utility Hub</h2><div class="bg-slate-900 text-white p-5 rounded-2xl shadow-lg mb-6"><div class="flex justify-between items-center mb-3"><div class="text-xs text-slate-400 font-bold uppercase"><i class="fas fa-calculator mr-1"></i> åŒ¯ç‡æ›ç®—</div><div class="flex items-center text-xs text-slate-400 bg-slate-800 px-2 py-1 rounded"><span class="mr-1">1 å°å¹£ = </span><input type="number" value="${currentRate}" class="w-10 bg-transparent text-center border-b border-slate-500 text-white focus:outline-none" onchange="updateRate(this.value)"><span class="ml-1">éŸ“å¹£</span></div></div><div class="flex items-center gap-3"><input id="krw-in" type="number" placeholder="â‚© éŸ“å¹£" class="w-1/2 bg-slate-800 border border-slate-700 rounded-xl p-3 text-white outline-none focus:border-blue-500" oninput="convertKRW(this.value)"><i class="fas fa-arrow-right text-slate-500"></i><div class="w-1/2 text-xl font-bold font-mono text-right" id="twd-out">NT$ 0</div></div></div><div class="bg-white p-5 rounded-2xl shadow-sm border border-slate-100 mb-6"><div class="text-xs font-bold text-slate-400 mb-3 uppercase tracking-wider">æ–°å¢æ¸…å–®é …ç›®</div><div class="flex gap-2"><input id="new-checklist-item" placeholder="è¼¸å…¥ç‰©å“åç¨±..." class="flex-1 p-3 rounded-xl border border-slate-200 bg-slate-50 outline-none focus:border-blue-500 transition-colors"><button onclick="addChecklistItem()" class="bg-blue-100 hover:bg-blue-200 text-blue-700 font-bold py-3 px-6 rounded-xl transition-colors">åŠ å…¥</button></div></div>${c}<div class="grid grid-cols-2 gap-3 mt-6"><a href="tel:1330" class="bg-red-50 p-4 rounded-xl text-center border border-red-100 active:bg-red-100"><div class="text-xl mb-1">ğŸ“</div><div class="font-bold text-red-600 text-sm">ç¿»è­¯ç†±ç·š 1330</div></a><a href="tel:112" class="bg-red-50 p-4 rounded-xl text-center border border-red-100 active:bg-red-100"><div class="text-xl mb-1">ğŸš“</div><div class="font-bold text-red-600 text-sm">è­¦å¯Ÿ 112</div></a></div></div>`; }
        function toggleCheck(e, i) { if(checkedItems.includes(i)) { checkedItems = checkedItems.filter(x => x !== i); e.classList.remove('checked'); } else { checkedItems.push(i); e.classList.add('checked'); } localStorage.setItem('ski_checklist_checked_v2', JSON.stringify(checkedItems)); }
        function addChecklistItem() { const i = document.getElementById('new-checklist-item'); const v = i.value.trim(); if (!v) return; let p = checklistData.find(c => c.title === "å€‹äººç‰©å“"); if (!p) { p = { title: "å€‹äººç‰©å“", items: [] }; checklistData.push(p); } p.items.push(v); localStorage.setItem('ski_checklist_data_v2', JSON.stringify(checklistData)); i.value = ''; renderTools(); }
        function removeChecklistItem(c, i) { if(confirm('ç¢ºå®šè¦ç§»é™¤æ­¤é …ç›®å—ï¼Ÿ')) { const t = checklistData[c].items[i]; checklistData[c].items.splice(i, 1); checkedItems = checkedItems.filter(x => x !== t); localStorage.setItem('ski_checklist_data_v2', JSON.stringify(checklistData)); localStorage.setItem('ski_checklist_checked_v2', JSON.stringify(checkedItems)); renderTools(); } }
        function convertKRW(v) { const t = Math.round(v / currentRate); document.getElementById('twd-out').innerText = `NT$ ${t.toLocaleString()}`; }
        function switchTab(t){ document.querySelectorAll('.nav-pill').forEach(e=>e.classList.remove('active')); document.getElementById(`nav-${t}`).classList.add('active'); document.getElementById('header-container').style.display = t==='itinerary'?'block':'none'; if(t==='itinerary'){renderHeader();renderItinerary();} else if(t==='accounting')renderAccounting(); else if(t==='translate')renderTranslation(); else renderTools(); }

        init();
    </script>
</body>
</html>
